(()=>{var n={497:(e,r,t)=>{e.exports=t(261)},261:(e,r,t)=>{"use strict";function s(t,n,o){var r;r=function(e){var r;e?(r=o,a(t,p.F_OK|p.X_OK,function(e){r(null,!e)})):i("command -v "+n+" 2>/dev/null && { echo >&1 "+n+"; exit 0; }",function(e,r,t){o(null,!!r)})},a(t,p.F_OK,function(e){r(!e)})}function n(e,r){if(function(e){try{return l(e,p.F_OK),!1}catch(e){return!0}}(e))try{return!!o("command -v "+r+" 2>/dev/null && { echo >&1 "+r+"; exit 0; }")}catch(e){return!1}r=e;try{return l(r,p.F_OK|p.X_OK),!0}catch(e){return!1}}var i=t(81).exec,o=t(81).execSync,c=t(147),u=t(17),a=c.access,l=c.accessSync,p=c.constants||c,f="win32"==process.platform,d=f?function(e){return/[\\]/.test(e)?'"'+u.dirname(e)+'"'+":"+('"'+u.basename(e)+'"'):'"'+e+'"'}:function(e){return e=/[^A-Za-z0-9_\/:=-]/.test(e)?(e="'"+e.replace(/'/g,"'\\''")+"'").replace(/^(?:'')+/g,"").replace(/\\'''/g,"\\'"):e};e.exports=function e(o,r){var t,n,c=d(o);if(!r&&"undefined"!=typeof Promise)return new Promise(function(t,n){e(o,function(e,r){r?t(o):n(e)})});f?(t=c,n=r,/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(o)?i("where "+t,function(e){n(null,null===e)}):n(null,!1)):s(o,c,r)},e.exports.sync=function(e){var r=d(e);if(!f)return n(e,r);if(!/^(?!(?:.*\s|.*\.|\W+)$)(?:[a-zA-Z]:)?(?:(?:[^<>:"\|\?\*\n])+(?:\/\/|\/|\\\\|\\)?)+$/m.test(e))return!1;try{return!!o("where "+r,{stdio:[]})}catch(e){return!1}}},416:function(e,r,t){"use strict";var o=this&&this.__awaiter||function(e,s,i,u){return new(i=i||Promise)(function(t,r){function n(e){try{c(u.next(e))}catch(e){r(e)}}function o(e){try{c(u.throw(e))}catch(e){r(e)}}function c(e){var r;e.done?t(e.value):((r=e.value)instanceof i?r:new i(function(e){e(r)})).then(n,o)}c((u=u.apply(e,s||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0});const c=t(17),s=t(82);Promise.all([(0,s.checkArgs)(),(0,s.checkCommand)()]).then(([t,n])=>o(void 0,void 0,void 0,function*(){for(var e of t){var r,e=(0,c.join)(process.cwd(),e);for(r of(0,s.explore)(e))yield(0,s.runGhostScript)(n,r.toString())}console.log("[32m%s[0m","âœ¨ PDF has been compressed !")})).catch(e=>{console.error(`[31m${e}[0m`),process.exit(1)})},82:(e,n,r)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.runGhostScript=n.explore=n.isDirectory=n.checkCommand=n.checkArgs=void 0;const s=r(81),o=r(497),t=r(282),c=r(147),i=r(17);n.checkArgs=()=>new Promise((e,r)=>{t.argv[2]||r("Please specify which file/folder you want to compress (npx pdfmin myFile.pdf)."),e(t.argv.slice(2))}),n.checkCommand=()=>new Promise((e,r)=>{var t=["gs","gswin32c","gswin64c","gsos2"].filter(o.sync);t[0]||r("Ghostscript is not installed on your device."),e(t[0])}),n.isDirectory=e=>(0,c.statSync)(e).isDirectory(),n.explore=(r,t=[])=>(0,n.isDirectory)(r)?(0,c.readdirSync)(r).map(e=>{e=(0,i.join)(r,e);return(0,n.explore)(e,t)}).flat(2):".pdf"===(0,i.extname)(r)?[...t,r]:t;n.runGhostScript=(o,c)=>new Promise((e,r)=>{var t=(0,i.basename)(c,(0,i.extname)(c)),n=(0,i.dirname)(c)+i.sep,n=(0,s.spawn)(o,["-sDEVICE=pdfwrite","-dCompatibilityLevel=1.4","-dPDFSETTINGS=/screen","-dNOPAUSE","-dQUIET","-dBATCH",`-sOutputFile=${n}${t}_compressed.pdf`,c]);n.on("error",()=>{r("Error while using GhostScript CLI.")}),n.on("close",()=>{e(!0)})})},81:e=>{"use strict";e.exports=require("child_process")},147:e=>{"use strict";e.exports=require("fs")},17:e=>{"use strict";e.exports=require("path")},282:e=>{"use strict";e.exports=require("process")}},o={};(function e(r){var t=o[r];return void 0===t&&(t=o[r]={exports:{}},n[r].call(t.exports,t,t.exports,e)),t.exports})(416)})();